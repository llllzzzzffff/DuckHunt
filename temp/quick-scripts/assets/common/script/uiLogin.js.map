{"version":3,"sources":["uiLogin.js"],"names":["uiPanel","require","cc","Class","extends","properties","onLoad","_super","start","window","wx","nodeDict","active","getSystemInfo","success","data","Game","GameManager","getUserInfoBtn","createUserInfoButton","type","text","style","left","screenWidth","top","screenHeight","width","height","lineHeight","backgroundColor","color","textAlign","fontSize","borderRadius","onTap","res","isClickCd","setTimeout","nickName","userInfo","avatarUrl","matchVsInit","hide","on","onEnable","show","onDisable"],"mappings":";;;;;;AAAA,IAAIA,UAAUC,QAAQ,SAAR,CAAd;AACAC,GAAGC,KAAH,CAAS;AACLC,aAASJ,OADJ;AAELK,gBAAY,EAFP;;AAILC,UAJK,oBAII;AACL,aAAKC,MAAL;AACH,KANI;AAQLC,SARK,mBAQG;AACJ,YAAIC,OAAOC,EAAX,EAAe;AACX,iBAAKC,QAAL,CAAc,OAAd,EAAuBC,MAAvB,GAAgC,KAAhC;AACAF,eAAGG,aAAH,CAAiB;AACbC,yBAAS,iBAASC,IAAT,EAAe;AACpBC,yBAAKC,WAAL,CAAiBC,cAAjB,GAAkCR,GAAGS,oBAAH,CAAwB;AACtDC,8BAAM,MADgD;AAEtDC,8BAAM,QAFgD;AAGtDC,+BAAO;AACHC,kCAAMR,KAAKS,WAAL,GAAmB,IADtB;AAEHC,iCAAKV,KAAKW,YAAL,GAAoB,IAFtB;AAGHC,mCAAOZ,KAAKW,YAAL,GAAoB,GAHxB;AAIHE,oCAAQb,KAAKW,YAAL,GAAoB,KAJzB;AAKHG,wCAAYd,KAAKW,YAAL,GAAoB,IAL7B;AAMHI,6CAAiB,SANd;AAOHC,mCAAO,SAPJ;AAQHC,uCAAW,QARR;AASHC,sCAAUlB,KAAKW,YAAL,GAAoB,KAT3B;AAUHQ,0CAAc;AAVX;AAH+C,qBAAxB,CAAlC;AAgBAlB,yBAAKC,WAAL,CAAiBC,cAAjB,CAAgCiB,KAAhC,CAAsC,UAASC,GAAT,EAAc;AAChD,4BAAIpB,KAAKC,WAAL,CAAiBoB,SAArB,EAAgC;AAC5B;AACH;AACDrB,6BAAKC,WAAL,CAAiBoB,SAAjB,GAA6B,IAA7B;AACAC,mCAAW,YAAW;AAClBtB,iCAAKC,WAAL,CAAiBoB,SAAjB,GAA6B,KAA7B;AACH,yBAFD,EAEG,IAFH;AAGArB,6BAAKC,WAAL,CAAiBsB,QAAjB,GAA4BH,IAAII,QAAJ,CAAaD,QAAzC;AACAvB,6BAAKC,WAAL,CAAiBwB,SAAjB,GAA6BL,IAAII,QAAJ,CAAaC,SAA1C;AACAzB,6BAAKC,WAAL,CAAiByB,WAAjB;AACA1B,6BAAKC,WAAL,CAAiBC,cAAjB,CAAgCyB,IAAhC;AACH,qBAZD;AAaH;AA/BY,aAAjB;AAiCH,SAnCD,MAmCO;AACH,iBAAKhC,QAAL,CAAc,OAAd,EAAuBiC,EAAvB,CAA0B,OAA1B,EAAmC5B,KAAKC,WAAL,CAAiByB,WAApD,EAAiE1B,KAAKC,WAAtE;AACH;AACJ,KA/CI;AAiDL4B,YAjDK,sBAiDM;AACP,YAAI7B,KAAKC,WAAL,CAAiBC,cAArB,EAAqC;AACjCF,iBAAKC,WAAL,CAAiBC,cAAjB,CAAgC4B,IAAhC;AACH;AACJ,KArDI;AAuDLC,aAvDK,uBAuDO;AACR,YAAI/B,KAAKC,WAAL,CAAiBC,cAArB,EAAqC;AACjCF,iBAAKC,WAAL,CAAiBC,cAAjB,CAAgCyB,IAAhC;AACH;AACJ;AA3DI,CAAT","file":"uiLogin.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\common\\script","sourcesContent":["var uiPanel = require(\"uiPanel\");\r\ncc.Class({\r\n    extends: uiPanel,\r\n    properties: {},\r\n\r\n    onLoad() {\r\n        this._super();\r\n    },\r\n\r\n    start() {\r\n        if (window.wx) {\r\n            this.nodeDict[\"start\"].active = false;\r\n            wx.getSystemInfo({\r\n                success: function(data) {\r\n                    Game.GameManager.getUserInfoBtn = wx.createUserInfoButton({\r\n                        type: 'text',\r\n                        text: '开始多人游戏',\r\n                        style: {\r\n                            left: data.screenWidth * 0.36,\r\n                            top: data.screenHeight * 0.73,\r\n                            width: data.screenHeight * 0.5,\r\n                            height: data.screenHeight * 0.075,\r\n                            lineHeight: data.screenHeight * 0.07,\r\n                            backgroundColor: '#fe714a',\r\n                            color: '#ffffff',\r\n                            textAlign: 'center',\r\n                            fontSize: data.screenHeight * 0.045,\r\n                            borderRadius: 8\r\n                        }\r\n                    });\r\n                    Game.GameManager.getUserInfoBtn.onTap(function(res) {\r\n                        if (Game.GameManager.isClickCd) {\r\n                            return;\r\n                        }\r\n                        Game.GameManager.isClickCd = true;\r\n                        setTimeout(function() {\r\n                            Game.GameManager.isClickCd = false;\r\n                        }, 1000);\r\n                        Game.GameManager.nickName = res.userInfo.nickName;\r\n                        Game.GameManager.avatarUrl = res.userInfo.avatarUrl;\r\n                        Game.GameManager.matchVsInit();\r\n                        Game.GameManager.getUserInfoBtn.hide();\r\n                    });\r\n                }\r\n            });\r\n        } else {\r\n            this.nodeDict[\"start\"].on(\"click\", Game.GameManager.matchVsInit, Game.GameManager);\r\n        }\r\n    },\r\n\r\n    onEnable() {\r\n        if (Game.GameManager.getUserInfoBtn) {\r\n            Game.GameManager.getUserInfoBtn.show();\r\n        }\r\n    },\r\n\r\n    onDisable() {\r\n        if (Game.GameManager.getUserInfoBtn) {\r\n            Game.GameManager.getUserInfoBtn.hide();\r\n        }\r\n    }\r\n});\r\n"]}